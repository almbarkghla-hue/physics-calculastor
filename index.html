<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>الآلة الحاسبة الفيزيائية الذكية </title>
<style>
body {
  margin: 0;
  font-family: "Tahoma", sans-serif;
  background: linear-gradient(135deg, #0d47a1, #42a5f5);
  overflow-x: hidden;
  color: white;
}
.container {
  text-align: center;
  padding: 60px 20px;
}
.atom {
  position: relative;
  width: 180px;
  height: 180px;
  margin: 50px auto;
  border-radius: 50%;
  background: radial-gradient(circle at center, #2196f3, #0d47a1);
  animation: spin 5s linear infinite;
}
@keyframes spin {
  0% {transform: rotate(0deg);}
  100% {transform: rotate(360deg);}
}
.electron {
  position: absolute;
  width: 12px;
  height: 12px;
  background: #bbdefb;
  border-radius: 50%;
  animation: orbit 2s linear infinite;
}
.e1 { top: -6px; left: 84px; animation-delay: 0s; }
.e2 { top: 84px; left: -6px; animation-delay: 0.5s; }
.e3 { bottom: -6px; right: 84px; animation-delay: 1s; }
@keyframes orbit {
  0% {transform: rotate(0deg) translateX(85px) rotate(0deg);}
  100% {transform: rotate(360deg) translateX(85px) rotate(-360deg);}
}
button {
  background: #1565c0;
  border: none;
  color: white;
  padding: 12px 25px;
  font-size: 18px;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 20px;
  transition: background 0.3s;
}
button:hover { background: #0d47a1; }
.hidden { display: none; }
.section {
  padding: 30px;
}
select, input {
  padding: 8px;
  font-size: 16px;
  border-radius: 6px;
  border: none;
  margin: 5px;
}
.result {
  margin-top: 15px;
  font-size: 20px;
  font-weight: bold;
}
.back {
  background: #64b5f6;
  margin-top: 25px;
}
</style>
</head>
<body>

<div id="home" class="container">
  <div class="atom">
    <div class="electron e1"></div>
    <div class="electron e2"></div>
    <div class="electron e3"></div>
  </div>
  <h1>الآلة الحاسبة الفيزيائية الذكية </h1>
  <p>رفيقك ومُعينك الذكي في فهم الفيزياء وحل المسائل بسهولة!</p>
  <button onclick="goToMain()">ابدأ</button>
</div>

<div id="main" class="container hidden">
  <h2>القائمة الرئيسية</h2>
  <button onclick="showSection('equations')">المعادلات</button>
  <button onclick="showSection('conversions')">التحويلات</button>
  <button onclick="showSection('tests')">الاختبارات</button>
  <button onclick="showSection('about')">عن الموقع</button>
</div>

<div id="equations" class="container hidden">
  <h2>المعادلات الفيزيائية</h2>
  <div id="equations-list"></div>
  <button class="back" onclick="goBack()">رجوع</button>
</div>

<script>
const equations = [
{ name:"الشغل", formula:"W = F × d × cos(θ)", variables:["W","F","d","θ"], calc:(v)=>v.W?v.W:v.F*v.d*Math.cos(v.θ*Math.PI/180) },
{ name:"الزخم", formula:"p = m × v", variables:["p","m","v"], calc:(v)=>v.p?v.p:v.m*v.v },
{ name:"الدفع", formula:"I = F × t", variables:["I","F","t"], calc:(v)=>v.I?v.I:v.F*v.t },
{ name:"قانون نيوتن الثاني", formula:"F = m × a", variables:["F","m","a"], calc:(v)=>v.F?v.F:v.m*v.a },
{ name:"الإزاحة", formula:"d = Vi × t + 0.5 × a × t²", variables:["d","Vi","t","a"], calc:(v)=>v.d?v.d:v.Vi*v.t+0.5*v.a*v.t*v.t },
{ name:"التسارع", formula:"a = (Vf - Vi) / t", variables:["a","Vf","Vi","t"], calc:(v)=>v.a?v.a:(v.Vf-v.Vi)/v.t },
{ name:"السرعة النهائية", formula:"Vf = Vi + a × t", variables:["Vf","Vi","a","t"], calc:(v)=>v.Vf?v.Vf:v.Vi+v.a*v.t },
{ name:"حفظ الزخم", formula:"Vf = (m1 × v1 + m2 × v2) / (m1 + m2)", variables:["Vf","m1","v1","m2","v2"], calc:(v)=>v.Vf?v.Vf:(v.m1*v.v1+v.m2*v.v2)/(v.m1+v.m2) },
{ name:"الزمن الدوري", formula:"T = 2π × √(a³ / (G × M))", variables:["T","a","G","M"], calc:(v)=>v.T?v.T:2*Math.PI*Math.sqrt(Math.pow(v.a,3)/(v.G*v.M)) },
{ name:"التسارع المركزي", formula:"ac = v² / r", variables:["ac","v","r"], calc:(v)=>v.ac?v.ac:(v.v*v.v)/v.r },
{ name:"قانون الجذب الكوني", formula:"F = (G × m1 × m2) / r²", variables:["F","G","m1","m2","r"], calc:(v)=>v.F?v.F:(v.G*v.m1*v.m2)/(v.r*v.r) },
{ name:"تسارع الجاذبية", formula:"g = (G × M) / r²", variables:["g","G","M","r"], calc:(v)=>v.g?v.g:(v.G*v.M)/(v.r*v.r) }
];

function goToMain(){ document.getElementById("home").classList.add("hidden"); document.getElementById("main").classList.remove("hidden"); }
function goBack(){ document.querySelectorAll(".container").forEach(c=>c.classList.add("hidden")); document.getElementById("main").classList.remove("hidden"); }
function showSection(id){ document.querySelectorAll(".container").forEach(c=>c.classList.add("hidden")); document.getElementById(id).classList.remove("hidden"); }

const eqList = document.getElementById("equations-list");
equations.forEach(eq=>{
  const btn=document.createElement("button");
  btn.textContent=eq.name;
  btn.onclick=()=>openEquation(eq);
  eqList.appendChild(btn);
});

function openEquation(eq){
  eqList.innerHTML="";
  const title=document.createElement("h3");
  title.textContent=eq.name+" : "+eq.formula;
  const label=document.createElement("p");
  label.textContent="اختر المجهول:";
  const select=document.createElement("select");
  eq.variables.forEach(v=>{
    const opt=document.createElement("option");
    opt.value=v; opt.textContent=v;
    select.appendChild(opt);
  });
  const div=document.createElement("div");
  const calcBtn=document.createElement("button");
  calcBtn.textContent="احسب";
  const res=document.createElement("div"); res.className="result";
  calcBtn.onclick=()=>{
    let inputs={};
    eq.variables.forEach(v=>{
      if(v!==select.value){
        let val=parseFloat(prompt("أدخل قيمة "+v+":"));
        inputs[v]=val;
      }
    });
    const val=eq.calc(inputs);
    res.textContent="الناتج: "+select.value+" = "+val.toFixed(3);
  };
  div.appendChild(label);
  div.appendChild(select);
  div.appendChild(calcBtn);
  div.appendChild(res);
  eqList.appendChild(title);
  eqList.appendChild(div);
  const back=document.createElement("button");
  back.onclick=()=>{eqList.innerHTML=""; equations.forEach(eq=>{
    const b=document.createElement("button");
    b.textContent=eq.name;
    b.onclick=()=>openEquation(eq);
    eqList.appendChild(b);
  });};
  eqList.appendChild(back);
}
</script>
<script>

// دالة عامة لحل أي قانون حسب المجهول
function solveFormula(formula, unknownId, inputs, outputId) {
    let unknown = document.getElementById(unknownId).value;

    // نجيب القيم
    let vals = {};
    for (let key in inputs) {
        vals[key] = parseFloat(document.getElementById(inputs[key]).value);
    }

    let result;

    switch (formula) {

        // ========= الشغل =========
        case "work":
            if (unknown === "W") result = vals.F * vals.d * Math.cos(vals.th * Math.PI/180);
            if (unknown === "F") result = vals.W / (vals.d * Math.cos(vals.th * Math.PI/180));
            if (unknown === "d") result = vals.W / (vals.F * Math.cos(vals.th * Math.PI/180));
            if (unknown === "th") result = "لا يمكن إيجاد الزاوية من هذا القانون";
            break;

        // ========= الزخم =========
        case "momentum":
            if (unknown === "p") result = vals.m * vals.v;
            if (unknown === "m") result = vals.p / vals.v;
            if (unknown === "v") result = vals.p / vals.m;
            break;

        // ========= الدفع =========
        case "impulse":
            if (unknown === "I") result = vals.F * vals.t;
            if (unknown === "F") result = vals.I / vals.t;
            if (unknown === "t") result = vals.I / vals.F;
            break;

        // ========= قانون نيوتن =========
        case "newton2":
            if (unknown === "F") result = vals.m * vals.a;
            if (unknown === "m") result = vals.F / vals.a;
            if (unknown === "a") result = vals.F / vals.m;
            break;

        // ========= الإزاحة =========
        case "displacement":
            if (unknown === "d") result = vals.Vi * vals.t + 0.5 * vals.a * vals.t * vals.t;
            break;

        // ========= التسارع =========
        case "acceleration":
            if (unknown === "a") result = (vals.Vf - vals.Vi) / vals.t;
            if (unknown === "Vf") result = vals.Vi + vals.a * vals.t;
            if (unknown === "Vi") result = vals.Vf - vals.a * vals.t;
            break;

        // ========= السرعة النهائية =========
        case "finalV":
            if (unknown === "Vf") result = vals.Vi + vals.a * vals.t;
            if (unknown === "Vi") result = vals.Vf - vals.a * vals.t;
            break;

        // ========= حفظ الزخم =========
        case "conserveP":
            if (unknown === "Vf_total")
                result = (vals.m1 * vals.v1 + vals.m2 * vals.v2) / (vals.m1 + vals.m2);
            break;

        // ========= كبلر الثالث =========
        case "kepler":
            if (unknown === "T")
                result = 2 * Math.PI * Math.sqrt((vals.a ** 3) / (vals.G * vals.M));
            break;

        // ========= التسارع المركزي =========
        case "ac":
            if (unknown === "ac") result = (vals.v ** 2) / vals.r;
            break;

        // ========= الجذب الكوني =========
        case "gravity":
            if (unknown === "F") result = (vals.G * vals.m1 * vals.m2) / (vals.r ** 2);
            break;

        // ========= تسارع الجاذبية =========
        case "g":
            if (unknown === "g") result = (vals.G * vals.M) / (vals.r ** 2);
            break;
    }

    document.getElementById(outputId).value = result;
}

</script>
</body>
</html>
<!-- ====== التحويلات ====== -->
<div id="conversions" class="container hidden">
  <h2>التحويلات الفيزيائية</h2>
  <p>اختر نوع التحويل:</p>
  <select id="convType" onchange="updateConversionOptions()">
    <option value="">-- اختر النوع --</option>
    <option value="time">الزمن</option>
    <option value="length">الطول</option>
    <option value="mass">الكتلة</option>
    <option value="energy">الطاقة</option>
  </select>
  <div id="convOptions"></div>
  <button class="back" onclick="goBack()">رجوع</button>
</div>

<!-- ====== الاختبارات ====== -->
<div id="tests" class="container hidden">
  <h2>الاختبارات الفيزيائية</h2>
  <div id="testList"></div>
  <div id="testArea"></div>
  <button class="back" onclick="goBack()">رجوع</button>
</div>

<!-- ====== عن الموقع ====== -->
<div id="about" class="container hidden">
  <h2>عن الموقع</h2>
  <p>الآلة الحاسبة الفيزيائية الذكية هي عبارة عن موقع تعليمي تفاعلي صُمم لمساعدة الطلاب في فهم الفيزياء بطريقة سهلة وممتعة.  
  يمكنك من خلاله حساب القوانين، إجراء التحويلات، وحل الاختبارات لمعرفة مستوى فهمك للمادة.</p>
  <p>تم تطوير هذا المشروع لتبسيط المفاهيم الفيزيائية وجعل التعلم تجربة ممتعة ومفهومة للجميع ، صُمم هذا الموقع 
    بإشراف المعلمة غادة الغامدي
    وطالباتها غلا المبارك
    تولين الزهراني 
    لانا العلواني.</p>
  <button class="back" onclick="goBack()">رجوع</button>
</div>

<script>
/* ========== التحويلات ========== */
function updateConversionOptions() {
  const type = document.getElementById("convType").value;
  const div = document.getElementById("convOptions");
  div.innerHTML = "";

  if (!type) return;

  let fromUnits = [], toUnits = [];
  if (type === "time") {
    fromUnits = ["ثانية", "دقيقة", "ساعة"];
    toUnits = ["ثانية", "دقيقة", "ساعة"];
  } else if (type === "length") {
    fromUnits = ["متر", "سنتيمتر", "كيلومتر"];
    toUnits = ["متر", "سنتيمتر", "كيلومتر"];
  } else if (type === "mass") {
    fromUnits = ["جرام", "كجم", "طن"];
    toUnits = ["جرام", "كجم", "طن"];
  } else if (type === "energy") {
    fromUnits = ["جول", "كيلو جول"];
    toUnits = ["جول", "كيلو جول"];
  }

  const fromSel = document.createElement("select");
  fromUnits.forEach(u => {
    const opt = document.createElement("option");
    opt.value = u;
    opt.textContent = "من " + u;
    fromSel.appendChild(opt);
  });

  const toSel = document.createElement("select");
  toUnits.forEach(u => {
    const opt = document.createElement("option");
    opt.value = u;
    opt.textContent = "إلى " + u;
    toSel.appendChild(opt);
  });

  const input = document.createElement("input");
  input.type = "number";
  input.placeholder = "أدخل القيمة";

  const btn = document.createElement("button");
  btn.textContent = "تحويل";
  const res = document.createElement("div");
  res.className = "result";

  btn.onclick = () => {
    const val = parseFloat(input.value);
    if (isNaN(val)) return alert("أدخل قيمة صحيحة");

    let result = val;
    if (type === "time") {
      const rates = { "ثانية": 1, "دقيقة": 60, "ساعة": 3600 };
      result = val * (rates[fromSel.value] / rates[toSel.value]);
    } else if (type === "length") {
      const rates = { "متر": 1, "سنتيمتر": 0.01, "كيلومتر": 1000 };
      result = val * (rates[fromSel.value] / rates[toSel.value]);
    } else if (type === "mass") {
      const rates = { "جرام": 1, "كجم": 1000, "طن": 1e6 };
      result = val * (rates[fromSel.value] / rates[toSel.value]);
    } else if (type === "energy") {
      const rates = { "جول": 1, "كيلو جول": 1000 };
      result = val * (rates[fromSel.value] / rates[toSel.value]);
    }

    res.textContent = "النتيجة: " + result.toFixed(3) + " " + toSel.value;
  };

  div.appendChild(fromSel);
  div.appendChild(toSel);
  div.appendChild(input);
  div.appendChild(btn);
  div.appendChild(res);
}

/* ========== الاختبارات ========== */
const tests = [
  { title: "اختبار الشغل", q: [
    ["ما وحدة قياس الشغل؟", ["نيوتن", "جول", "واط", "كجم"], 1],
    ["إذا كانت القوة 10N والإزاحة 2m، فما الشغل؟", ["5", "10", "20", "0"], 2],
    ["الشغل يساوي القوة × ...", ["الزمن", "المسافة", "الإزاحة", "الكتلة"], 2],
    ["ما علاقة الزاوية بالشغل؟", ["تزيده دائمًا", "تقلله", "ليس لها تأثير", "تلغيه"], 1],
    ["وحدة الشغل هي نفسها وحدة ...", ["القوة", "الطاقة", "الزمن", "الكتلة"], 1]
  ]},
  { title: "اختبار الزخم", q: [
    ["الزخم = ؟", ["m × a", "m × v", "F × t", "v/t"], 1],
    ["وحدة الزخم هي؟", ["N", "kg·m/s", "J", "m/s"], 1],
    ["إذا تضاعفت الكتلة، الزخم ...", ["يتضاعف", "ينقص", "لا يتغير", "ينعدم"], 0],
    ["الزخم كمية ...", ["عددية", "متجهة", "ثابتة", "غير معروفة"], 1],
    ["الزخم يعتمد على ...", ["القوة", "الزمن", "الكتلة والسرعة", "الإزاحة"], 2]
  ]},
  { title: "اختبار الدفع", q: [
    ["الدفع يساوي ...", ["F × d", "F × t", "m × a", "p/t"], 1],
    ["وحدة الدفع هي؟", ["جول", "نيوتن.ثانية", "واط", "كجم"], 1],
    ["الدفع يغير ...", ["الشغل", "الزخم", "القوة", "الطاقة"], 1],
    ["الدفع يساوي التغير في ...", ["الطاقة", "الزمن", "الزخم", "الإزاحة"], 2],
    ["إذا زاد الزمن لنفس القوة، الدفع ...", ["يقل", "يزيد", "لا يتغير", "ينعدم"], 1]
  ]},
  { title: "اختبار نيوتن الثاني", q: [
    ["القوة = ؟", ["m × a", "F/t", "p × t", "v/a"], 0],
    ["إذا تضاعفت الكتلة وثبت التسارع، القوة ...", ["تتضاعف", "تقل", "تثبت", "تنعدم"], 0],
    ["التسارع يتناسب ... مع القوة", ["عكسيًا", "طرديًا", "بالتربيع", "بالثابت"], 1],
    ["وحدة القوة هي؟", ["كجم", "متر", "نيوتن", "جول"], 2],
    ["من صاغ القانون الثاني؟", ["كبلر", "جاليليو", "نيوتن", "أينشتاين"], 2]
  ]},
  { title: "اختبار الإزاحة", q: [
    ["الإزاحة كمية ...", ["عددية", "متجهة", "ثابتة", "سالبة"], 1],
    ["الإزاحة تختلف عن المسافة بأنها ...", ["بدون اتجاه", "بها اتجاه", "دائمًا موجبة", "أطول دائمًا"], 1],
    ["وحدة الإزاحة؟", ["متر", "جول", "نيوتن", "ثانية"], 0],
    ["d = ?", ["Vi × t + 0.5 × a × t²", "F × d", "m × a", "V/t"], 0],
    ["إذا كان التسارع سالبًا، فالإزاحة ...", ["تزداد", "تنقص", "تثبت", "تنعكس"], 1]
  ]},
  { title: "اختبار التسارع", q: [
    ["a = ?", ["Δv / Δt", "m × a", "F × t", "V × T"], 0],
    ["وحدة التسارع؟", ["m/s", "m/s²", "N", "J"], 1],
    ["التسارع يتناسب طرديًا مع ...", ["القوة", "الزمن", "الكتلة", "الإزاحة"], 0],
    ["التسارع كمية ...", ["عددية", "متجهة", "غير معروفة", "ثابتة"], 1],
    ["إذا كان الجسم يتباطأ فالتسارع ...", ["موجب", "سالب", "صفر", "يتغير"], 1]
  ]},
  { title: "اختبار السرعة النهائية", q: [
    ["Vf = ?", ["Vi + a × t", "F × t", "d/t", "m × v"], 0],
    ["إذا كانت السرعة الابتدائية صفر، Vf = ؟", ["a × t", "d/t", "F/m", "ثابتة"], 0],
    ["وحدة السرعة؟", ["m/s", "m/s²", "N", "kg"], 0],
    ["السرعة النهائية تزيد بزيادة ...", ["الزمن", "الكتلة", "المسافة", "القوة"], 0],
    ["عندما يكون التسارع صفرًا، Vf = ؟", ["Vi", "0", "t", "m"], 0]
  ]},
  { title: "اختبار حفظ الزخم", q: [
    ["مجموع الزخم قبل = ؟", ["بعد", "صفر", "القوة", "العزم"], 0],
    ["القانون يستخدم لحساب؟", ["السرعة النهائية", "الشغل", "الحركة بعد التصادم", "الطاقة"], 2],
    ["عند تصادم مرن، الزخم ...", ["ينعدم", "يتغير", "يُحفظ", "يزداد"], 2],
    ["القانون: Vf = ?", ["(m1v1+m2v2)/(m1+m2)", "F×d", "a×t", "V/t"], 0],
    ["الزخم الكلي قبل وبعد ...", ["مختلف", "متساوي", "صفر", "عشوائي"], 1]
  ]},
  { title: "اختبار الزمن الدوري ", q: [
    ["الزمن الدوري يربط بين؟", ["T و a", "v و F", "m و t", "a و F"], 0],
    ["الصيغة: ?", ["T = 2π√(a³/GM)", "F = ma", "p=mv", "I=Ft"], 0],
    ["ينطبق على؟", ["حركة الكواكب", "السيارات", "القطارات", "الالكترونات"], 0],
    ["T يتناسب طرديًا مع؟", ["a³", "a²", "a", "1/a"], 0],
    ["من العالم الذي وضع قوانين الكواكب؟", ["نيوتن", "كبلر", "أينشتاين", "جاليليو"], 1]
  ]},
  { title: "اختبار التسارع المركزي", q: [
    ["ac = ?", ["v² / r", "m × v", "F × t", "a/t"], 0],
    ["التسارع المركزي يتجه نحو؟", ["الخارج", "الداخل", "الأعلى", "الأسفل"], 1],
    ["يزداد ac عندما ...", ["تزداد السرعة", "تقل السرعة", "يزيد نصف القطر", "تثبت"], 0],
    ["وحدة ac؟", ["m/s", "m/s²", "N", "J"], 1],
    ["القوة التي تسبب ac تسمى؟", ["قوة الجاذبية", "القوة المركزية", "قوة الدفع", "قوة الاحتكاك"], 1]
  ]},
  { title: "اختبار الجذب الكوني", q: [
    ["من العالم الذي اكتشفه؟", ["نيوتن", "كبلر", "جاليليو", "أينشتاين"], 0],
    ["يتناسب الجذب عكسيًا مع؟", ["r²", "r", "m", "F"], 0],
    ["يتناسب طرديًا مع؟", ["كتلة الأجسام", "المسافة", "الزمن", "السرعة"], 0],
    ["رمز ثابت الجذب؟", ["G", "g", "F", "M"], 0],
    ["تقل القوة عندما ...", ["تزيد المسافة", "تقل الكتلة", "تزيد الكتلة", "تثبت"], 0]
  ]},
  { title: "اختبار تسارع الجاذبية", q: [
    ["g = ?", ["GM/r²", "F/m", "V/t", "m×a"], 0],
    ["قيمة g على الأرض تقريبًا؟", ["9.8", "10.8", "8.9", "7.9"], 0],
    ["g تعتمد على؟", ["M و r", "F و t", "V و a", "لا شيء"], 0],
    ["إذا ابتعدنا عن الأرض، g ...", ["تزيد", "تقل", "تثبت", "تنعدم"], 1],
    ["g وحدة قياسها؟", ["N", "m/s²", "J", "kg"], 1]
  ]}
];

const testList = document.getElementById("testList");
const testArea = document.getElementById("testArea");

tests.forEach((t, i) => {
  const btn = document.createElement("button");
  btn.textContent = t.title;
  btn.onclick = () => startTest(i);
  testList.appendChild(btn);
});

function startTest(index) {
  testList.innerHTML = "";
  const test = tests[index];
  let score = 0;
  let current = 0;
  testArea.innerHTML = "";

  const qText = document.createElement("p");
  const optsDiv = document.createElement("div");

  function showQuestion() {
    const [q, opts, correct] = test.q[current];
    qText.textContent = q;
    optsDiv.innerHTML = "";
    opts.forEach((opt, i) => {
      const b = document.createElement("button");
      b.textContent = opt;
      b.onclick = () => {
        if (i === correct) {
          b.style.background = "#2e7d32";
          score++;
        } else {
          b.style.background = "#c62828";
        }
        setTimeout(() => {
          current++;
          if (current < test.q.length) showQuestion();
          else finishTest();
        }, 700);
      };
      optsDiv.appendChild(b);
    });
  }

  function finishTest() {
    testArea.innerHTML = `<h3>النتيجة: ${score} من ${test.q.length}</h3>`;
    const back = document.createElement("button");
    back.textContent = "رجوع للاختبارات";
    back.className = "back";
    back.onclick = () => {
      testArea.innerHTML = "";
      testList.innerHTML = "";
      tests.forEach((t, i) => {
        const b = document.createElement("button");
        b.textContent = t.title;
        b.onclick = () => startTest(i);
        testList.appendChild(b);
      });
    };
    testArea.appendChild(back);
  }

  testArea.appendChild(qText);
  testArea.appendChild(optsDiv);
  showQuestion();
}
</script>
